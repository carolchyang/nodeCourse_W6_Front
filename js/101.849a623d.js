"use strict";(self["webpackChunknode_final"]=self["webpackChunknode_final"]||[]).push([[101],{1885:function(e,t,s){s.d(t,{HS:function(){return u},K$:function(){return p},MH:function(){return d},TV:function(){return l},TY:function(){return i},fN:function(){return c},fj:function(){return f},pY:function(){return r},td:function(){return m}});var n=s(6265),a=s.n(n);const o="https://floating-anchorage-48826.herokuapp.com",r=e=>a().post(`${o}/user/sign_up`,e),l=e=>a().post(`${o}/user/sign_in`,e),u=e=>a().post(`${o}/user/updatePassword`,e),i=()=>a().get(`${o}/user/profile`),d=e=>a().patch(`${o}/user/profile`,e),c=e=>a().get(`${o}/posts`,{params:e}),p=e=>a().get(`${o}/post/${e}`),m=e=>a().post(`${o}/post`,e),f=e=>a()["delete"](`${o}/post/${e}`)},3101:function(e,t,s){s.r(t),s.d(t,{default:function(){return $}});var n=s(3396),a=s(7139);const o=e=>((0,n.dD)("data-v-5ad41f7f"),e=e(),(0,n.Cn)(),e),r=o((()=>(0,n._)("h1",{class:"header"},"張貼動態",-1))),l={class:"mb-4"},u=o((()=>(0,n._)("label",{for:"content",class:"form-label"},"貼文內容",-1))),i={class:"mb-4"},d=o((()=>(0,n._)("label",{for:"photo",class:"form-label"},"圖片連結",-1))),c={class:"text-center"},p=["disabled"];function m(e,t,s,o,m,f){const g=(0,n.up)("VField"),h=(0,n.up)("error-message"),b=(0,n.up)("VForm");return(0,n.wg)(),(0,n.iD)(n.HY,null,[r,(0,n.Wm)(b,{class:"card p-md-8",onSubmit:f.createPost,ref:"postForm"},{default:(0,n.w5)((({errors:e,meta:s})=>[(0,n._)("div",l,[u,(0,n.Wm)(g,{type:"text",id:"content",placeholder:"輸入您的貼文內容",name:"貼文內容",class:(0,a.C_)(["form-control",{"is-invalid":e["貼文內容"]}]),rows:"5",rules:"required|max:200",modelValue:m.tempPost.content,"onUpdate:modelValue":t[0]||(t[0]=e=>m.tempPost.content=e),as:"textarea"},null,8,["class","modelValue"]),(0,n.Wm)(h,{name:"貼文內容",class:"invalid-feedback text-danger"})]),(0,n._)("div",i,[d,(0,n.Wm)(g,{type:"text",id:"photo",placeholder:"請輸入圖片連結",name:"圖片連結",class:(0,a.C_)(["form-control",{"is-invalid":e["圖片連結"]}]),rules:"url",modelValue:m.tempPost.image,"onUpdate:modelValue":t[1]||(t[1]=e=>m.tempPost.image=e),required:""},null,8,["class","modelValue"]),(0,n.Wm)(h,{name:"圖片連結",class:"invalid-feedback text-danger"})]),(0,n._)("div",c,[(0,n._)("button",{type:"submit",class:"effectBtn btn btn-primary w-100",disabled:!s.valid}," 送出貼文 ",8,p)])])),_:1},8,["onSubmit"])],64)}var f=s(3766),g=s(6294),h=s(1885),b={name:"CreatePostView",data(){return{tempPost:{content:"",image:""}}},methods:{createPost(){this.toggleLoading(!0),(0,h.td)(this.tempPost).then((()=>{this.toggleLoading(!1),this.pushMessage({style:"dark",content:"已建立貼文"}),this.$router.push("/")})).catch((e=>{this.toggleLoading(!1),this.pushMessage({style:"danger",content:e.response?.data?.message||"建立貼文失敗"})}))},...(0,f.nv)(g.Z,["toggleLoading","pushMessage"])}},_=s(89);const v=(0,_.Z)(b,[["render",m],["__scopeId","data-v-5ad41f7f"]]);var $=v}}]);
//# sourceMappingURL=101.849a623d.js.map