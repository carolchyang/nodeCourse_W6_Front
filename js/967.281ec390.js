"use strict";(self["webpackChunknode_final"]=self["webpackChunknode_final"]||[]).push([[967],{1885:function(e,s,t){t.d(s,{HS:function(){return c},K$:function(){return p},MH:function(){return d},TV:function(){return r},TY:function(){return l},fN:function(){return u},fj:function(){return b},pY:function(){return i},td:function(){return f}});var n=t(6265),a=t.n(n);const o="https://floating-anchorage-48826.herokuapp.com",i=e=>a().post(`${o}/user/sign_up`,e),r=e=>a().post(`${o}/user/sign_in`,e),c=e=>a().post(`${o}/user/updatePassword`,e),l=()=>a().get(`${o}/user/profile`),d=e=>a().patch(`${o}/user/profile`,e),u=e=>a().get(`${o}/posts`,{params:e}),p=e=>a().get(`${o}/post/${e}`),f=e=>a().post(`${o}/post`,e),b=e=>a()["delete"](`${o}/post/${e}`)},4331:function(e,s,t){var n=t(1120),a=t(3766),o=t(1885),i=t(6294),r=t(7965);const c=(0,i.Z)();s["Z"]=(0,a.Q_)("userStore",{state:()=>({profile:{name:"",photo:"",gender:"",_id:""},tempProfile:{name:"",photo:"",gender:"",_id:""}}),actions:{getProfile(){c.isLoading=!0,(0,o.TY)().then((e=>{this.profile=Object.assign({},e.data.data),this.tempProfile=Object.assign({},e.data.data),c.isLoading=!1})).catch((e=>{c.pushMessage({style:"danger",content:e.response?.data?.message||"取得個人資料失敗，請重新登入"}),c.isLoading=!1,(0,r.qz)(),n.Z.push("/signin")}))},updateProfileData(e){this.profile=Object.assign({},e),this.tempProfile=Object.assign({},e)}}})},3967:function(e,s,t){t.r(s),t.d(s,{default:function(){return ae}});var n=t(3396);const a={key:0},o={class:"container pt-11 pb-14 pb-lg-11"},i={class:"row"},r={class:"col-12 col-lg-8"},c={class:"col-lg-4 position-relative"};function l(e,s,t,l,d,u){const p=(0,n.up)("NavbarComponent"),f=(0,n.up)("router-view"),b=(0,n.up)("AsideComponent");return d.checkSuccess?((0,n.wg)(),(0,n.iD)("div",a,[(0,n.Wm)(p,{onSignOut:u.signOut},null,8,["onSignOut"]),(0,n._)("main",o,[(0,n._)("div",i,[(0,n._)("div",r,[((0,n.wg)(),(0,n.j4)(f,{key:e.$route.fullPath}))]),(0,n._)("div",c,[(0,n.Wm)(b)])])])])):(0,n.kq)("",!0)}var d=t(7139),u=t(9242),p=t(2893);const f={class:"navbar"},b={class:"container d-flex justify-content-between align-items-center"},m=(0,n.Uk)("MetaWall"),g={class:"d-flex align-items-center"},h=["src"],w={key:1,src:p,class:"thumbnail thumbnail-sm"},k={class:"dropdown"},v={class:"dropdown-toggle ms-3 px-2 border-bottom border-2 text-dark fw-bolder",href:"#",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false"},Z={class:"dropdown-menu dropdown-menu-end customShadow text-center","aria-labelledby":"dropdownMenuLink"},L=(0,n._)("li",{class:"bg-white border border-2 border-bottom-0"},[(0,n._)("a",{href:"#",class:"dropdown-item"}," 我的貼文牆 ")],-1),x={class:"bg-white border border-2 border-bottom-0"},A=(0,n.Uk)("全體動態牆"),q={class:"bg-white border border-2 border-bottom-0"},C=(0,n.Uk)(" 修改個人資料 "),S={class:"bg-white border border-2"};function W(e,s,t,a,o,i){const r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("div",b,[(0,n.Wm)(r,{to:"/",class:"navbarBrand"},{default:(0,n.w5)((()=>[m])),_:1}),(0,n._)("div",g,[e.profile?.photo?((0,n.wg)(),(0,n.iD)("img",{key:0,src:e.profile?.photo,class:"thumbnail thumbnail-sm"},null,8,h)):((0,n.wg)(),(0,n.iD)("img",w)),(0,n._)("div",k,[(0,n._)("a",v,(0,d.zw)(e.profile?.name),1),(0,n._)("ul",Z,[L,(0,n._)("li",x,[(0,n.Wm)(r,{to:"/",class:"dropdown-item"},{default:(0,n.w5)((()=>[A])),_:1})]),(0,n._)("li",q,[(0,n.Wm)(r,{to:"/profile",class:"dropdown-item"},{default:(0,n.w5)((()=>[C])),_:1})]),(0,n._)("li",S,[(0,n._)("a",{href:"#",class:"dropdown-item",onClick:s[0]||(s[0]=(0,u.iM)((s=>e.$emit("sign-out")),["prevent"]))}," 登出 ")])])])])])])}var P=t(3766),_=t(4331),y={name:"NavbarComponent",computed:{...(0,P.rn)(_.Z,["profile"])}},K=t(89);const V=(0,K.Z)(y,[["render",W]]);var H=V;const N={class:"aside"},z={class:"asideContent"},Y=(0,n.Uk)(" 張貼動態 "),D={class:"asideList"},M={class:"mb-lg-8"},O={href:"#",class:"asideLink"},U=["src"],G={key:1,src:p,class:"thumbnail thumbnail-xl"},j={class:"d-none d-lg-block ms-4 fw-bolder"},B={class:"mb-lg-8"},X=(0,n._)("div",{class:"asideLinkIcon"},[(0,n._)("i",{class:"bi bi-house-door"})],-1),E=(0,n._)("h5",{class:"d-none d-lg-block ms-4 fw-bolder"},"全體動態牆",-1),R=(0,n.uE)('<li class="mb-lg-8"><a href="#" class="asideLink"><div class="asideLinkIcon"><i class="bi bi-bell"></i></div><h5 class="d-none d-lg-block ms-4 fw-bolder">追蹤名單</h5></a></li><li><a href="#" class="asideLink"><div class="asideLinkIcon"><i class="bi bi-hand-thumbs-up"></i></div><h5 class="d-none d-lg-block ms-4 fw-bolder">我按讚的文章</h5></a></li>',2),I={class:"d-lg-none"},F=(0,n._)("div",{class:"asideLinkIcon"},[(0,n._)("i",{class:"bi bi-plus-lg"})],-1);function J(e,s,t,a,o,i){const r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("aside",N,[(0,n._)("div",z,[(0,n.Wm)(r,{to:"/createpost",class:"effectBtn d-none d-lg-block btn btn-primary w-100 mb-6 fw-bold"},{default:(0,n.w5)((()=>[Y])),_:1}),(0,n._)("ul",D,[(0,n._)("li",M,[(0,n._)("a",O,[e.profile?.photo?((0,n.wg)(),(0,n.iD)("img",{key:0,src:e.profile?.photo,class:"thumbnail thumbnail-xl"},null,8,U)):((0,n.wg)(),(0,n.iD)("img",G)),(0,n._)("h5",j,(0,d.zw)(e.profile?.name)+" 的貼文牆 ",1)])]),(0,n._)("li",B,[(0,n.Wm)(r,{to:"/",class:"asideLink"},{default:(0,n.w5)((()=>[X,E])),_:1})]),R,(0,n._)("li",I,[(0,n.Wm)(r,{to:"/createpost",class:"asideLink"},{default:(0,n.w5)((()=>[F])),_:1})])])])])}var T={name:"AsideComponent",computed:{...(0,P.rn)(_.Z,["profile"])}};const Q=(0,K.Z)(T,[["render",J]]);var $=Q,ee=t(6294),se=t(7965),te={name:"LayoutView",data(){return{checkSuccess:!1}},methods:{checkSignIn(){const e=(0,se.LP)();e?(this.checkSuccess=!0,this.$http.defaults.headers.common.Authorization=`Bearer ${e}`,this.getProfile()):(this.checkSuccess=!1,this.pushMessage({style:"danger",content:"請先登入"}),this.$router.push("/signin"))},signOut(){(0,se.qz)(),this.checkSuccess=!1,this.$router.push("/signin")},...(0,P.nv)(ee.Z,["pushMessage"]),...(0,P.nv)(_.Z,["getProfile"])},created(){this.checkSignIn()},components:{NavbarComponent:H,AsideComponent:$}};const ne=(0,K.Z)(te,[["render",l]]);var ae=ne},2893:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAMAAABHYYw+AAABKVBMVEXd7fpcZnDGxsjf7fve7/tcZXLGxcrEx8fFxcddZnHGxslaZW/HyMnc7vrIyMre6fZcZXDd7/nExsqfoqjIxcjHxsZkbnjd7v3g7/zh7/rU2eVcZm7R4OvGxszFx8mnt8FbZHG+vsKqrLDf7/meqrbX4+p8iJTf7fh7iZTc6/fb6fXU2uPU3eXa5vC9vsJeZ3Ha5fKirrmUm6NjbXfY5O3X4e3C0N6tvMewusaFjZZud39oc37d7PrS2eDG0t7Gxcl1e4VdY29aZWzHyMywvsm2u764ub2Vm6B0fYVhanbg7f3V2t+7xdDCwcWmtL6ytLqBho1faXPi7/zb5/LK1+PIxsy/wsKqqa6PmKCHjZdveINocXrCytK5xs+sq7CXoK2ipqyIi5Z+ipM8r/IdAAAEIUlEQVRo3u3aaVPaUBSA4XtPbm5WkKREoBhqSSkFRVCxC+5rtYvV7vv2/39ED0kKQdNPPcxYm2eGneGdAyEkGVgmk8lkMpnMVVISrCwSnjwpsWkRGw9uTZhT2LSI9rqaZD0rTyVWRtgyeMLel4oiECOiKBsbiqK0H6CHt1ZVnjD/7eHQawWRtCJz57xQUBFPMHiB4zt5StgKKkEwdzLspLJOg6DSpGkFQfvg4LRr8EuqCC/eHxy8xhYJMadiKGqlU+8wKnPzydT0W/y6tZRS6VKrauzxCXeaNK3Lc60PBsZ0WkJMtozuC7DPOS8Y5K3AcS638idTabW3tp5ZfET9tL5+5O1/XP90Pq7zla2tNYLV1H3LKvCx3UPT9nWwa7Vjg49Z88sULV7lI0Zh/hA8CeD57jHn3cS8JC3V4COrsydLvoYt19TPZmfHLYOmxUMq4t0Xz9/Cb8+fv/2oVkexZUbQMsZzdY+KJozld/iopZK0rD0rttc9cmGitTtvxXaXFYf9rb5vukhDNfAgSXM9rRZzFwlaHd98AzK2vQ0pigDe/ib7e519WwMJEdOEFBI8L79A0FJarZ4Psbxt2xCz7XweQmZts9XKEWwDPxFOS4IWwRHRaMa4pelPFUcQtHKKmNFHs0AStiLFBSYEo2qlM8ctNLVW9Ln9wy3U7L3q2+Zo6YtBTN981Wk1GRFRdtrYiumhxDdtUQkEo1IqsbatAzJ1SIruWywp+Awyky0zucxjK+cwSq28DS6AjZn4PG65mrnIaLVwufPSWhqQtzY6nYYbrQ/zWNDzIRvgaaczw4gJpY0t09R1QDpeg/C0qOCqkNEqsRndl74vTakBKnqaNFG0WUgea6yt9fsNKEat4uZaA82UGTmlhD9QQgjH97CFZANvo6nM5eQYapog4xYbyjHC2IXjCY4J0Vxaw2FjOcqWEyvVILamjJDNVQ4qqBx7aWtFE9VqjaASe1kJHJpWUOnfG7v748OHR6Gfd8ceNBkJIa7lcYBr28LPay/aA0vNDHeZqnccqlbv8eOVxyvveZozfGRl5Zmgas24UgN52+ApbsiilP5NRtbaHraW1NSWNlxfLeRot0WX0ucCJBdY1rpiLe32n1roZtbKWlkra/0/LVi6pq3bq7MXrKLvU2ntW5wXLuBWXSdsCeG0dPAA8tyoGlWeUKha1XcSQMJTR2kS7INt9HqN8PCxvXN8fGLxBGOwsxO25Gav3yKYq+f6LoT7kq6Ug4m5dg+xE84F4C8SzNWRbzwoakWcrSgHPMk6Ksqw5boAFEdvtnzP9KSHk22DOyjwhOqhpm/72BpO/ZmRaONc0vN3LYurPEG1LOsrzuVBfZlRqYevZw0Xh4m58FSHoTojbKF6gV/8/4HKq2cwxAjV63XGU0WPkUtvha5c6xe/H4JCWEurNwAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=967.281ec390.js.map